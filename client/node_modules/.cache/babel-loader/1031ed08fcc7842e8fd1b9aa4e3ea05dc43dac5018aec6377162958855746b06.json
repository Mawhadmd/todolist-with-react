{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\Desktop\\\\Work\\\\React\\\\todo\\\\client\\\\src\\\\routes\\\\Form.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../Styles/Form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Form = () => {\n  _s();\n  const navigate = useNavigate();\n  const [isSignupUp, setIsSignupUp] = useState(false);\n  const [signupStyle, setSignupStyle] = useState({});\n  const [signinStyle, setSigninStyle] = useState({});\n  const [signupFormStyle, setSignupFormStyle] = useState({});\n  const [loginButtonText, setLoginButtonText] = useState(\"Login\");\n  const [signupButtonText, setSignupButtonText] = useState(\"SignUp\");\n  const [statusInfo, setStatusInfo] = useState(\"\");\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    axios.post('/currentUser').then(res => {\n      if (res.status == 200) {\n        navigate('/');\n      }\n    }).catch(e => console.error(e));\n  }, []);\n  const slideUp = () => {\n    setIsSignupUp(true);\n    setSignupFormStyle({\n      top: '15%',\n      borderRadius: '0'\n    });\n    setSignupStyle({\n      top: '0',\n      padding: '10px',\n      backgroundColor: 'green'\n    });\n    setSigninStyle({\n      backgroundColor: 'transparent'\n    });\n    setName('');\n    setPassword('');\n    setTimeout(() => {\n      setSigninStyle({\n        top: '-45px',\n        backgroundColor: 'transparent'\n      });\n    }, 250);\n  };\n  const slideDown = () => {\n    setIsSignupUp(false);\n    setSigninStyle({});\n    setSignupStyle({});\n    setSignupFormStyle({});\n    setName('');\n    setPassword('');\n  };\n\n  // Handle form submission for login or signup\n  const handleForm = async operation => {\n    const resetButton = () => {\n      if (operation === 'signin') {\n        setLoginButtonText('Login');\n      } else {\n        setSignupButtonText('SignUp');\n      }\n    };\n    if (operation === 'signin') setLoginButtonText('Loading');\n    if (operation === 'signup') setSignupButtonText('Loading');\n    if (name && password) {\n      try {\n        const res = await axios.post('/suplin', {\n          name,\n          password,\n          operation\n        }, {\n          withCredentials: true\n        });\n        const message = res.data.message || JSON.stringify(res.data);\n        setStatusInfo(message);\n        if (message === 'Welcome') navigate('/');\n      } catch (e) {\n        alert('Error: ' + e.message);\n      } finally {\n        resetButton();\n      }\n    } else {\n      setStatusInfo('Name and Password Required');\n      resetButton();\n    }\n    setName('');\n    setPassword('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wraper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '0 auto',\n        width: '100%',\n        height: '100px',\n        padding: '10px',\n        color: 'red',\n        wordWrap: 'break-word'\n      },\n      children: statusInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"Main signin\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          onClick: () => {\n            isSignupUp ? slideDown() : handleForm('signin');\n          },\n          style: signinStyle,\n          children: loginButtonText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: name,\n          onChange: e => setName(e.target.value),\n          placeholder: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: password,\n          type: \"password\",\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: signupFormStyle,\n        className: \"Main signup\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            onClick: () => {\n              !isSignupUp ? slideUp() : handleForm('signup');\n            },\n            style: signupStyle,\n            children: signupButtonText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: name,\n            onChange: e => setName(e.target.value),\n            placeholder: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: password,\n            type: \"password\",\n            onChange: e => setPassword(e.target.value),\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n_s(Form, \"EjNMJzDfmxXhJgzFCq1Ea8ep4as=\", false, function () {\n  return [useNavigate];\n});\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsxDEV","_jsxDEV","Form","_s","navigate","isSignupUp","setIsSignupUp","signupStyle","setSignupStyle","signinStyle","setSigninStyle","signupFormStyle","setSignupFormStyle","loginButtonText","setLoginButtonText","signupButtonText","setSignupButtonText","statusInfo","setStatusInfo","name","setName","password","setPassword","post","then","res","status","catch","e","console","error","slideUp","top","borderRadius","padding","backgroundColor","setTimeout","slideDown","handleForm","operation","resetButton","withCredentials","message","data","JSON","stringify","alert","className","children","style","margin","width","height","color","wordWrap","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","preventDefault","onClick","value","onChange","target","placeholder","type","_c","$RefreshReg$"],"sources":["C:/Users/moham/Desktop/Work/React/todo/client/src/routes/Form.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../Styles/Form.css'\r\nconst Form = () => {\r\n    const navigate = useNavigate();\r\n    const [isSignupUp, setIsSignupUp] = useState(false); \r\n    const [signupStyle, setSignupStyle] = useState({});\r\n    const [signinStyle, setSigninStyle] = useState({});\r\n    const [signupFormStyle, setSignupFormStyle] = useState({});\r\n    const [loginButtonText, setLoginButtonText] = useState(\"Login\");\r\n    const [signupButtonText, setSignupButtonText] = useState(\"SignUp\");\r\n    const [statusInfo, setStatusInfo] = useState(\"\");\r\n    const [name, setName] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        axios.post('/currentUser').then((res) => {\r\n                if (res.status == 200) {\r\n                    navigate('/');\r\n                }\r\n            })\r\n            .catch((e) => console.error(e));\r\n    }, []);\r\n\r\n\r\n    const slideUp = () => {\r\n        setIsSignupUp(true);\r\n        setSignupFormStyle({ top: '15%', borderRadius: '0' });\r\n        setSignupStyle({ top: '0', padding: '10px', backgroundColor: 'green' });\r\n        setSigninStyle({ backgroundColor: 'transparent' });\r\n        setName('');\r\n        setPassword('');\r\n        setTimeout(() => {\r\n            setSigninStyle({ top: '-45px', backgroundColor: 'transparent' });\r\n        }, 250);\r\n    };\r\n\r\n\r\n    const slideDown = () => {\r\n        setIsSignupUp(false);\r\n        setSigninStyle({});\r\n        setSignupStyle({});\r\n        setSignupFormStyle({});\r\n        setName('');\r\n        setPassword('');\r\n    };\r\n\r\n    // Handle form submission for login or signup\r\n    const handleForm = async (operation) => {\r\n        const resetButton = () => {\r\n            if (operation === 'signin') {\r\n                setLoginButtonText('Login');\r\n            } else {\r\n                setSignupButtonText('SignUp');\r\n            }\r\n        };\r\n\r\n        if (operation === 'signin') setLoginButtonText('Loading');\r\n        if (operation === 'signup') setSignupButtonText('Loading');\r\n\r\n        if (name && password) {\r\n            try {\r\n                const res = await axios.post('/suplin', { name, password, operation }, { withCredentials: true });\r\n                const message = res.data.message || JSON.stringify(res.data);\r\n                setStatusInfo(message);\r\n\r\n                if (message === 'Welcome') navigate('/');\r\n            } catch (e) {\r\n                alert('Error: ' + e.message);\r\n            } finally {\r\n                resetButton();\r\n            }\r\n        } else {\r\n            setStatusInfo('Name and Password Required');\r\n            resetButton();\r\n        }\r\n\r\n        setName('');\r\n        setPassword('');\r\n    };\r\n\r\n    return (\r\n        <div className='wraper'>\r\n            <div style={{ margin: '0 auto', width: '100%', height: '100px', padding: '10px', color: 'red', wordWrap: 'break-word' }}>\r\n                {statusInfo}\r\n            </div>\r\n            <main className=\"Main signin\">\r\n                <form onSubmit={(e) => { e.preventDefault(); }}>\r\n                    <h1\r\n                        onClick={() => { isSignupUp ? slideDown() : handleForm('signin'); }}\r\n                        style={signinStyle}\r\n                    >\r\n                        {loginButtonText}\r\n                    </h1>\r\n                    <input value={name} onChange={(e) => setName(e.target.value)} placeholder='Name' />\r\n                    <input value={password} type='password' onChange={(e) => setPassword(e.target.value)} placeholder='Password' />\r\n                </form>\r\n\r\n                <div style={signupFormStyle} className=\"Main signup\">\r\n                    <form onSubmit={(e) => { e.preventDefault(); }}>\r\n                        <h1\r\n                            onClick={() => { !isSignupUp ? slideUp() : handleForm('signup'); }}\r\n                            style={signupStyle}\r\n                        >\r\n                            {signupButtonText}\r\n                        </h1>\r\n                        <input value={name} onChange={(e) => setName(e.target.value)} placeholder='Name' />\r\n                        <input value={password} type='password' onChange={(e) => setPassword(e.target.value)} placeholder='Password' />\r\n                    </form>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Form;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}